<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title }}</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h1 {
            color: #dc3545;
            border-bottom: 2px solid #dc3545;
            padding-bottom: 10px;
        }
        .warning-box {
            background-color: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 4px;
            padding: 20px;
            margin: 20px 0;
        }
        .warning-box h3 {
            margin-top: 0;
            color: #856404;
        }
        .book-info {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 4px;
            margin: 20px 0;
        }
        .book-info p {
            margin: 5px 0;
        }
        .actions {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid #eee;
        }
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
            margin-right: 10px;
        }
        .btn-danger {
            background-color: #dc3545;
            color: white;
        }
        .btn-danger:hover {
            background-color: #c82333;
        }
        .btn-secondary {
            background-color: #6c757d;
            color: white;
        }
        .btn-secondary:hover {
            background-color: #545b62;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Confirm Delete</h1>

        <div class="warning-box">
            <h3>⚠️ Warning</h3>
            <p>Are you sure you want to delete this book? This action cannot be undone.</p>
        </div>

        <!-- 
        SECURITY: Output Escaping
        All book data is automatically escaped by Django to prevent XSS attacks.
        -->
        <div class="book-info">
            <p><strong>Title:</strong> {{ book.title }}</p>
            <p><strong>Author:</strong> {{ book.author }}</p>
            <p><strong>Publication Year:</strong> {{ book.publication_year }}</p>
        </div>

        <!-- 
        SECURITY: CSRF Protection for Destructive Operations
        
        The {% csrf_token %} is especially critical for destructive operations
        like DELETE. It ensures that:
        1. Only authenticated users can delete data
        2. The delete request comes from our application
        3. Malicious sites cannot trick users into deleting data
        
        Without this token, Django will reject the request with a 403 error.
        -->
        <form method="POST">
            {% csrf_token %}
            <div class="actions">
                <button type="submit" class="btn btn-danger">Yes, Delete</button>
                <a href="{% url 'bookshelf:book_detail' book.pk %}" class="btn btn-secondary">Cancel</a>
            </div>
        </form>
    </div>
</body>
</html>
